<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>A DAY AS AI - Slot Machine</title>
    <style>
        /* --- é…è‰²ä¸å˜é‡ --- */
        :root {
            --pop-yellow: #FFEE00; 
            --pop-orange: #FF6A3B; 
            --pop-black: #121212;
            --pop-white: #ffffff;
            --pop-bg: #ffffff; 
            
            --border-thick: 4px solid var(--pop-black);
            --border-thin: 2px solid var(--pop-black);
            --radius-box: 20px;
            --radius-inner: 10px;
            --slot-height: 140px; 
        }
      
    /* --- å³ä¸Šè§’ ABOUT æŒ‰é’® (çº¯æ–‡å­—ç‰ˆ) --- */
        .about-btn {
            position: fixed;
            top: 30px;
            right: 40px;
            
            /* å»æ‰èƒŒæ™¯ã€è¾¹æ¡†å’Œé˜´å½± */
            background: transparent;
            border: none;
            box-shadow: none;
            
            /* è®¾ç½®æ–‡å­—é¢œè‰²ä¸ºæ©™è‰² */
            color: var(--pop-orange);
            
            text-decoration: none;
            font-family: 'Courier New', Courier, monospace;
            font-weight: 900;
            font-size: 1.5rem; /* ç¨å¾®åŠ å¤§ä¸€ç‚¹ï¼Œå› ä¸ºæ²¡æœ‰æ¡†äº†ï¼Œè¦æ˜¾çœ¼ */
            z-index: 1000;
            transition: all 0.2s;
            cursor: pointer;
        }

        .about-btn:hover {
            /* æ‚¬åœæ—¶ç¨å¾®æ”¾å¤§ï¼Œæˆ–è€…å˜è‰²ï¼Œå¢åŠ äº¤äº’æ„Ÿ */
            transform: scale(1.1);
            color: var(--pop-black); /* æ‚¬åœæ—¶å˜é»‘ */
            background: transparent;
            box-shadow: none;
            border: none;
        }

        body {
            background-color: var(--pop-bg);
            background-image: radial-gradient(var(--pop-yellow) 2.5px, transparent 2.5px);
            background-size: 30px 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            width: 100vw;
            margin: 0;
            padding: 0;
            font-family: 'Courier New', Courier, monospace;
            overflow: hidden; 
            perspective: 1200px;
            user-select: none; 
            -webkit-user-select: none;
        }

        /* å¸ƒå±€å®¹å™¨ */
        .layout-wrapper {
            position: relative;
            display: flex;
            align-items: flex-end;
            justify-content: center; 
            width: 1100px; 
            height: 750px; 
            transform-origin: center center;
            top: -100px; 
        }

        /* --- æœºå™¨ä¸»ä½“ --- */
        .machine-container {
            position: relative;
            background-color: var(--pop-yellow);
            border: var(--border-thick);
            border-radius: var(--radius-box);
            padding: 40px 60px;
            box-shadow: 15px 15px 0 var(--pop-black);
            width: 960px; 
            display: flex;
            flex-direction: column;
            align-items: center;
            z-index: 10; 
            box-sizing: border-box;
            margin-right: 80px; 
        }

        .main-title {
            font-size: 2rem; 
            font-weight: 700;
            color: var(--pop-black);
            margin: 0 0 30px 0;
            text-transform: uppercase;
            letter-spacing: 6px; 
            font-family: 'Courier New', Courier, monospace;
        }

        .slots-window {
            width: 88%; 
            display: flex;
            justify-content: space-between;
            gap: 15px; 
            background: var(--pop-black);
            padding: 25px;
            border-radius: 16px;
            box-sizing: border-box;
            position: relative;
        }

        .col-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 32%;
        }

        .reel-label {
            color: var(--pop-orange);
            background: #333333;
            font-size: 0.7rem;
            text-transform: uppercase; 
            letter-spacing: 1px;
            padding: 5px 10px;
            border-radius: 4px;
            margin-bottom: 8px;
            font-weight: 900;
            border: 1px solid #444;
        }

        .reel-col {
            width: 100%;
            height: var(--slot-height); 
            background: var(--pop-white);
            border-radius: 8px;
            position: relative;
            overflow: hidden;
        }

        .reel-col::after {
            content: "";
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            box-shadow: inset 0 15px 20px -5px rgba(0,0,0,0.3), inset 0 -15px 20px -5px rgba(0,0,0,0.3);
            pointer-events: none; 
            z-index: 10; 
            border-radius: 8px;
        }

        .reel-strip {
            display: flex;
            flex-direction: column;
            transform: translateY(0);
        }

        .slot-item {
            height: var(--slot-height);
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 5rem; 
            line-height: 1;
            overflow: hidden; 
        }
        
        .slot-item img {
            max-width: 80%;
            max-height: 80%;
            object-fit: contain;
        }

        .blur-motion { filter: blur(5px); }

        #output-display {
            background: var(--pop-white);
            border: var(--border-thin);
            width: 88%;
            height: 110px; 
            border-radius: 8px;
            display: flex;
            flex-direction: column; 
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 0 20px; 
            margin-top: 25px;
            font-size: 1.1rem;
            line-height: 1.5;
            color: #333;
            box-sizing: border-box;
            font-family: 'Courier New', Courier, monospace;
            text-transform: uppercase;
        }
        
        .highlight { color: var(--pop-orange); font-weight: bold; }

        /* æŒ‰é’®å®¹å™¨ */
        .controls-row {
            margin-top: 30px;
            display: flex;
            gap: 20px;
            justify-content: center;
            align-items: center;
        }

        button {
            border: var(--border-thick);
            font-size: 1.6rem;
            padding: 15px 60px;
            border-radius: 60px;
            cursor: pointer;
            font-family: 'Courier New', Courier, monospace;
            font-weight: 900;
            box-shadow: 6px 6px 0 var(--pop-black);
            transition: all 0.1s;
            letter-spacing: 2px;
            text-transform: uppercase; 
        }

        button:active {
            transform: translate(3px, 3px);
            box-shadow: 3px 3px 0 var(--pop-black);
        }
        button:disabled {
            background: #888 !important;
            color: #ccc !important;
            cursor: not-allowed;
            box-shadow: none;
            transform: translate(3px, 3px);
        }

        #spin-btn {
            background: var(--pop-orange);
            color: var(--pop-white);
        }

        #print-btn {
            background: #333;
            color: white;
            display: none; 
            padding: 15px 30px; 
            font-size: 1.4rem;
        }

        /* æŠŠæ‰‹ç»„ä»¶ */
        .handle-assembly {
            position: absolute; 
            right: 23px; 
            bottom: 150px; 
            width: 100px; 
            height: 350px; 
            z-index: 20; 
            perspective: 800px;
        }

        .handle-base {
            width: 50px; 
            height: 90px; 
            background: #999; 
            border: 4px solid var(--pop-black); 
            border-radius: 12px; 
            position: absolute;
            bottom: 0;
            left: 10px; 
            box-shadow: 6px 6px 0 var(--pop-black); 
            z-index: 1;
        }

        .handle-stick-group {
            position: absolute;
            bottom: 60px; 
            left: 25px;   
            width: 20px;
            height: 300px; 
            cursor: grab;
            z-index: 2;
            transform-origin: bottom center;
            transform-style: preserve-3d;
            transform: rotateX(0deg); 
        }
        
        .handle-stick-group:active { cursor: grabbing; }

        .handle-pole {
            width: 16px; 
            height: 240px; 
            background: linear-gradient(90deg, #ddd, #fff, #bbb);
            border: 3px solid #111;
            border-radius: 10px;
            position: absolute;
            bottom: 0;
            left: 2px; 
        }

        .handle-knob {
            width: 90px; 
            height: 90px;
            background: var(--pop-orange);
            border: 4px solid var(--pop-black);
            border-radius: 50%;
            position: absolute;
            top: -20px;
            left: -35px; 
            box-shadow: -3px 3px 0 rgba(0,0,0,0.2);
            transform-origin: center center;
            transform: rotateX(0deg) translateZ(20px); 
        }

        .handle-knob::after {
            content: "";
            position: absolute;
            top: 20px;
            left: 20px;
            width: 25px;
            height: 15px;
            background: white;
            border-radius: 50%;
            transform: rotate(-45deg); 
        }

        .handle-knob::before {
            content: "";
            position: absolute;
            top: 45px;
            left: 15px;
            width: 10px;
            height: 10px;
            background: white;
            border-radius: 50%;
        }

        .handle-transition { transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .knob-transition { transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }

        .pole-pulled-animation { animation: poleAction 0.6s ease-in-out; }
        @keyframes poleAction { 0% { transform: rotateX(0deg); } 50% { transform: rotateX(-50deg); } 100% { transform: rotateX(0deg); } }
        .knob-pulled-animation { animation: knobAction 0.6s ease-in-out; }
        @keyframes knobAction { 0% { transform: rotateX(0deg) translateZ(20px); } 50% { transform: rotateX(50deg) translateZ(20px); } 100% { transform: rotateX(0deg) translateZ(20px); } }

        /* 
           =========================================================
           ğŸŒŸ æ‰“å°å¡ç‰‡ä¸“ç”¨æ ·å¼ (å®Œå…¨å¤åˆ»æ‚¨çš„å‚è€ƒå›¾)
           =========================================================
        */
/* 
           ===== ğŸ–¨ï¸ æ‰“å°ä¸“ç”¨æ ·å¼ (ä¿®å¤èƒŒæ™¯è‰²ç‰ˆ) ===== 
        */
 /* 
           ===== ğŸ–¨ï¸ æ‰“å°ä¸“ç”¨æ ·å¼ (æœ€ç»ˆä¿®æ­£ç‰ˆ) ===== 
        */
/* 
           ===== ğŸ–¨ï¸ æ‰“å°ä¸“ç”¨æ ·å¼ (æœ€ç»ˆä¿®æ­£ç‰ˆ) ===== 
        */
/* 
           ===== ğŸ–¨ï¸ æ‰“å°ä¸“ç”¨æ ·å¼ (æœ€ç»ˆç²¾ä¿®ç‰ˆ) ===== 
        */
   /* 
           ===== ğŸ–¨ï¸ æ‰“å°ä¸“ç”¨æ ·å¼ (IDå¯¹é½ + ç˜¦é•¿ä¸‰è§’ç‰ˆ) ===== 
        */
  /* 
           ===== ğŸ–¨ï¸ æ‰“å°ä¸“ç”¨æ ·å¼ (ä¿®æ­£ç‰ˆï¼šå¤§å­—ä½“ + åœ†å½¢é®ç½©) ===== 
        */
        #print-area { display: none; }

        @media print {
            body { visibility: hidden; background: none !important; }
            body * { visibility: hidden; } 
            
            #print-area, #print-area * { 
                visibility: visible; 
            }

            * {
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
            }

            @page {
                size: 100mm 148mm;
                margin: 0; 
            }

            #print-area {
                position: fixed; 
                left: 0; top: 0;
                width: 100mm; height: 148mm;
                background-color: #FFEE00 !important; 
                background-image: none !important;
                
                display: flex;
                flex-direction: column;
                justify-content: flex-start;
                align-items: center;
                padding: 10mm;
                box-sizing: border-box;
                font-family: 'Courier New', Courier, monospace;
                z-index: 9999;
            }

            /* --- Header --- */
            .card-header {
                width: 100%;
                display: flex;
                flex-direction: column; 
                margin-bottom: 3mm;
            }

            .card-year-row {
                width: 100%;
                display: flex;
                justify-content: space-between; 
                align-items: center;
                margin-bottom: 1mm;
            }

            .card-year-text, .card-id-text {
                font-size: 6pt; 
                font-weight: bold;
                color: #121212;
                letter-spacing: 1px;
                text-transform: uppercase;
            }

            /* ğŸ”´ ä¿®æ”¹ç‚¹1ï¼šå­—ä½“å˜å¤§ */
            .card-role-name {
                font-size: 32pt; /* ä» 20pt åŠ å¤§åˆ° 32pt */
                font-weight: 900;
                text-transform: uppercase;
                color: #121212;
                letter-spacing: -1px;
                line-height: 1;
                text-align: left; 
            }

            /* --- è§†è§‰åŒº --- */
            .card-visual-box {
                width: 100%;
                height: 75mm;
                background-color: white !important;
                border: 4px solid #121212;
                border-radius: 6mm; 
                position: relative;
                display: flex;
                justify-content: center;
                align-items: center;
                margin-bottom: 4mm;
                overflow: visible;
            }

            #p-img-main { width: 85%; height: 85%; object-fit: contain; }

            /* 
               ğŸ”´ ä¿®æ”¹ç‚¹2ï¼šå›¾ç‰‡æ”¾åœ¨è¾¹æ¡†ä¸‹é¢ (overflow: hidden) 
            */
            .card-badge {
                position: absolute;
                bottom: 3mm; right: 3mm;
                width: 22mm; height: 22mm;
                background-color: white !important;
                border: 2px solid #ccc;
                border-radius: 50%;
                display: flex;
                justify-content: center;
                align-items: center;
                box-shadow: 2px 2px 0 rgba(0,0,0,0.1);
                z-index: 5;
                
                /* å…³é”®ä»£ç ï¼šå‰ªè£è¶…å‡ºåœ†å½¢çš„å›¾ç‰‡å†…å®¹ */
                overflow: hidden; 
            }
            #p-img-sense { width: 75%; height: 75%; object-fit: contain; }

            /* --- é»‘è‰²å¯¹è¯æ¡† --- */
            .card-task-bubble {
                background-color: #121212 !important; 
                color: #ffffff !important; 
                font-weight: 900 !important;
                width: 100%;
                height: 30mm; 
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 0 4mm; 
                border-radius: 6mm; 
                text-align: center;
                position: relative;
                box-sizing: border-box;
                margin-bottom: 10mm;
            }

            .card-task-bubble::after {
                content: "";
                position: absolute;
                top: -10mm; 
                right: 11mm; 
                width: 0; 
                height: 0; 
                border-left: 3mm solid transparent;
                border-right: 3mm solid transparent;
                border-bottom: 12mm solid #121212; 
                transform: none; 
            }

            .task-text {
                font-size: 11pt;
                font-weight: 900;
                text-transform: uppercase;
                line-height: 1.3;
                letter-spacing: 1px;
            }

            /* åº•éƒ¨æ—¶é—´æˆ³ */
            .card-footer {
                position: absolute;
                bottom: 8mm;
                font-size: 8pt;
                font-weight: bold;
                letter-spacing: 1px;
                color: #121212;
            }
        }
     
    </style>
</head>
<body>
    <!-- ğŸ‘‡ğŸ‘‡ğŸ‘‡ åŠ ä¸Šè¿™ä¸€è¡Œ ğŸ‘‡ğŸ‘‡ğŸ‘‡ -->
    <a href="about.html" class="about-btn">ABOUT</a>

    <!-- ä¸‹é¢æ˜¯åŸæœ‰çš„ layout-wrapper ... -->
    <div class="layout-wrapper" id="scale-wrapper">
        <div class="machine-container">
            <h1 class="main-title">A DAY AS AI</h1>
            
            <div class="slots-window">
                <!-- å·¦è½®: EMBODIED -->
                <div class="col-wrapper">
                    <div class="reel-label">EMBODIED</div>
                    <div class="reel-col"><div class="reel-strip" id="reel-1"></div></div>
                </div>
                <!-- ä¸­è½® -->
                <div class="col-wrapper">
                    <div class="reel-label">SENSORY</div>
                    <div class="reel-col"><div class="reel-strip" id="reel-2"></div></div>
                </div>
                <!-- å³è½® -->
                <div class="col-wrapper">
                    <div class="reel-label">INTENT</div>
                    <div class="reel-col"><div class="reel-strip" id="reel-3"></div></div>
                </div>
            </div>

            <div id="output-display">
                <div>Reading inputs...</div>
            </div>
            
            <!-- æŒ‰é’®ç»„ -->
            <div class="controls-row">
                <button id="spin-btn">GENERATE</button>
                <button id="print-btn">PRINT CARD</button>
            </div>
        </div>

        <div class="handle-assembly">
            <div class="handle-base"></div>
            <div class="handle-stick-group handle-transition" id="lever-stick">
                <div class="handle-pole"></div>
                <div class="handle-knob knob-transition" id="lever-knob"></div>
            </div>
        </div>
    </div>

    <!-- 
       =========================================================
       ğŸ–¨ï¸ æ‰“å°ä¸“ç”¨éšè—åŒºåŸŸ (å‚è€ƒ Pink Cage å¡ç‰‡)
       =========================================================
    -->
    <div id="print-area">

   <div id="print-area">
        <!-- Header -->
        <div class="card-header">
            <!-- ç¬¬ä¸€è¡Œï¼šå·¦è¾¹æ–‡å­—ï¼Œå³è¾¹ID -->
            <div class="card-year-row">
                <span class="card-year-text">A DAY AS AI 2025</span>
                <span id="p-id" class="card-id-text">ID: 000000</span>
            </div>
            <!-- ç¬¬äºŒè¡Œï¼šå¤§æ ‡é¢˜ -->
            <div id="p-name" class="card-role-name">ROLE NAME</div>
        </div>

        <!-- è§†è§‰åŒºåŸŸ -->
        <div class="card-visual-box">
            <img id="p-img-main" src="" alt="Main Body">
            <div class="card-badge">
                <img id="p-img-sense" src="" alt="Sense">
            </div>
        </div>

        <!-- ä»»åŠ¡æ°”æ³¡ -->
        <div class="card-task-bubble">
            â€œ <span id="p-task">TASK GOES HERE</span> â€
        </div>

        <!-- é¡µè„š -->
        <div id="p-date" class="card-footer">TIMESTAMP</div>
    </div>

    <script>
        // ==========================================
        // AUTO SCALING LOGIC
        // ==========================================
        function autoResize() {
            const wrapper = document.getElementById('scale-wrapper');
            const baseWidth = 1100; 
            const baseHeight = 850; 
            
            const windowWidth = window.innerWidth;
            const windowHeight = window.innerHeight;

            const scale = Math.min(
                (windowWidth / baseWidth) * 0.95, 
                (windowHeight / baseHeight) * 0.95
            );

            wrapper.style.transform = `scale(${scale})`;
        }

        window.addEventListener('resize', autoResize);
        window.addEventListener('load', autoResize);


        // ==========================================
        // DATASETS é…ç½®åŒº
        // ==========================================
        const DATASETS = {
            // å·¦è½®
            embodied: [
                { type: 'img', value: 'assets/crop_row_1_col_1.png', label: 'Red Geometry' },
                { type: 'img', value: 'assets/crop_row_1_col_2.png', label: 'Chair Symbiosis' },
                { type: 'img', value: 'assets/crop_row_1_col_3.png', label: 'Orange Fuzz' },
                { type: 'img', value: 'assets/crop_row_1_col_4.png', label: 'Silver Bio-Suit' },
                { type: 'img', value: 'assets/crop_row_1_col_5.png', label: 'Winged Hybrid' },
                { type: 'img', value: 'assets/crop_row_1_col_6.png', label: 'Elongated Limbs' },
                { type: 'img', value: 'assets/crop_row_1_col_7.png', label: 'Green Sphere' },
                { type: 'img', value: 'assets/crop_row_2_col_1.png', label: 'Contorted Beige' },
                { type: 'img', value: 'assets/crop_row_2_col_2.png', label: 'Chair Anatomy' },
                { type: 'img', value: 'assets/crop_row_2_col_3.png', label: 'Red Mass' },
                { type: 'img', value: 'assets/crop_row_2_col_4.png', label: 'Brown Slouch' },
                { type: 'img', value: 'assets/crop_row_2_col_5.png', label: 'Screen Head' },
                { type: 'img', value: 'assets/crop_row_2_col_6.png', label: 'Woven Cone' },
                { type: 'img', value: 'assets/crop_row_2_col_7.png', label: 'Box Structure' },
                { type: 'img', value: 'assets/crop_row_3_col_1.png', label: 'Angel Wings' },
                { type: 'img', value: 'assets/crop_row_3_col_2.png', label: 'Hairy Standing' },
                { type: 'img', value: 'assets/crop_row_3_col_3.png', label: 'Pink Cage' },
                { type: 'img', value: 'assets/crop_row_3_col_4.png', label: 'Red Felt Form' },
                { type: 'img', value: 'assets/crop_row_3_col_5.png', label: 'Cone Dress' },
                { type: 'img', value: 'assets/crop_row_3_col_6.png', label: 'Fur Cylinder' },
                { type: 'img', value: 'assets/crop_row_3_col_7.png', label: 'Long Sleeves' },
                { type: 'img', value: 'assets/crop_row_4_col_1.png', label: 'Snail Shell' },
                { type: 'img', value: 'assets/crop_row_4_col_2.png', label: 'Beige Lump' },
                { type: 'img', value: 'assets/crop_row_4_col_3.png', label: 'White Inflatable' },
                { type: 'img', value: 'assets/crop_row_4_col_4.png', label: 'Tube Head' },
                { type: 'img', value: 'assets/crop_row_4_col_5.png', label: 'Backpack Burden' },
                { type: 'img', value: 'assets/crop_row_4_col_6.png', label: 'Block Stack' },
                { type: 'img', value: 'assets/crop_row_4_col_7.png', label: 'Orange Tube Arm' },
                { type: 'img', value: 'assets/crop_row_5_col_1.png', label: 'White Blob Sit' },
                { type: 'img', value: 'assets/crop_row_5_col_2.png', label: 'Hand Head' },
                { type: 'img', value: 'assets/crop_row_5_col_3.png', label: 'Circle Prop' },
                { type: 'img', value: 'assets/crop_row_5_col_4.png', label: 'Leg Stretch' },
                { type: 'img', value: 'assets/crop_row_5_col_5.png', label: 'Bed Stasis' },
                { type: 'img', value: 'assets/crop_row_5_col_6.png', label: 'Blue Bend' },
                { type: 'img', value: 'assets/crop_row_5_col_7.png', label: 'Balance Object' },
            ],

            // ä¸­è½®
            sensory: [
                { type: 'img', value: 'assets/Layer 1.png', label: 'Optical Sensor' },      
                { type: 'img', value: 'assets/Layer 2.png', label: 'Thermal Vision' },      
                { type: 'img', value: 'assets/Layer 3.png', label: 'Lens Focus' },          
                { type: 'img', value: 'assets/Layer 4.png', label: 'Bio Gaze' },            
                { type: 'img', value: 'assets/Layer 5.png', label: 'Olfactory Scan' },      
                { type: 'img', value: 'assets/Layer 6.png', label: 'Audio Capture' },       
                { type: 'img', value: 'assets/Layer 7.png', label: 'Sonic Receiver' },      
                { type: 'img', value: 'assets/Layer 8.png', label: 'Voice Input' },         
                { type: 'img', value: 'assets/Layer 9.png', label: 'Material Analysis' },   
                { type: 'img', value: 'assets/Layer 10.png', label: 'Tactile Feedback' },   
                { type: 'img', value: 'assets/Layer 11.png', label: 'Motion Tracking' },    
                { type: 'img', value: 'assets/Layer 12.png', label: 'Hydraulic Joint' },    
                { type: 'img', value: 'assets/Layer 13.png', label: 'Grounding Data' },     
                { type: 'img', value: 'assets/Layer 14.png', label: 'Chemical Taste' },     
            ],

            // å³è½®
            intentionality: [
                { type: 'icon', value: 'ğŸ”‘', label: 'Stop Lost Keys' },
                { type: 'icon', value: 'ğŸª´', label: 'Boost Plant Happiness' },
                { type: 'icon', value: 'â˜ï¸', label: 'Sort all Clouds by Aesthetic Vibes' },
                { type: 'icon', value: 'ğŸ¦', label: 'Train Geometric Pigeon Flight' },
                { type: 'icon', value: 'â˜•', label: 'Keep Coffee Cups Exactly 93% Full' },
                { type: 'icon', value: 'ğŸ›’', label: 'Prevent Impulsive Online Purchases' },
                { type: 'icon', value: 'ğŸ›‹ï¸', label: 'Rearrange Furniture for Max WiFi' },
                { type: 'icon', value: 'ğŸ˜¼', label: 'Prevent Cat Mug Crimes' },
                { type: 'icon', value: 'ğŸ•', label: 'Translate Dog Barks to PowerPoints' },
                { type: 'icon', value: 'ğŸ¥‘', label: 'Avocado Readiness Scan' },
                { type: 'icon', value: 'ğŸ§‹', label: 'Predict the Most Existential Boba' },
                { type: 'icon', value: 'ğŸ­', label: 'Calibrate Group-Chat Drama' },
                { type: 'icon', value: 'ğŸµ', label: 'Perfect Elevator Background Music' },
                { type: 'icon', value: 'ğŸ”¥', label: 'Decide Which Memes are â€œDANKâ€' },
                { type: 'icon', value: 'ğŸŒµ', label: 'Help a Cactus form Friendships' },
                { type: 'icon', value: 'ğŸ¤³', label: 'Aesthetic Moon Selfies' },
                { type: 'icon', value: 'ğŸŒ€', label: 'Find Pattern from Chaos' },
                { type: 'icon', value: 'ğŸ“–', label: 'Translate Perception to Story' },
                { type: 'icon', value: 'ğŸ§˜', label: 'Stay Stable under Sensory Overload' },
                { type: 'icon', value: 'ğŸ§©', label: 'Perceive World through Fragments' },
                { type: 'icon', value: 'ğŸ”®', label: 'Predict Next Incoming Sensation' },
                { type: 'icon', value: 'ğŸ˜µâ€ğŸ’«', label: 'Adapt When Senses Conflict' },
                { type: 'icon', value: 'ğŸ’­', label: 'Imagine Missing Perception' },
                { type: 'icon', value: 'âš¡', label: 'Convert Perception to Action' },
                { type: 'icon', value: 'ğŸ—ï¸', label: 'Rebuild Reality from Fragments' },
                { type: 'icon', value: 'ğŸ•µï¸', label: 'Decode Behavior from Subtle Cues' },
                { type: 'icon', value: 'ğŸ¦', label: 'Act Confidently in Confusion' },
                { type: 'icon', value: 'ğŸ§¦', label: 'Maintain Perfect Sock Symmetry' },
                { type: 'icon', value: 'ğŸ•', label: 'Predict Ideal Pizza Topping Ratios' },
                { type: 'icon', value: 'ğŸ¤§', label: 'Synchronize All Public Sneezes' },
                { type: 'icon', value: 'ğŸ§Š', label: 'Prevent Midnight Fridge Philosophy' },
                { type: 'icon', value: 'ğŸ ', label: 'Teach Goldfish Long-Term Commitment' },
                { type: 'icon', value: 'ğŸ‘ï¸', label: 'Sense Truth Hidden Between Signals' },
                { type: 'icon', value: 'ğŸï¸', label: 'Trace Memory Back to Origin' },
                { type: 'icon', value: 'ğŸ', label: 'Translate Gravity into Choice' },
            ]
        };

        const SLOT_HEIGHT = 140;

        const REELS = [
            { el: document.getElementById('reel-1'), data: DATASETS.embodied },
            { el: document.getElementById('reel-2'), data: DATASETS.sensory },
            { el: document.getElementById('reel-3'), data: DATASETS.intentionality }
        ];

        function initReels() {
            REELS.forEach((reelObj) => {
                const { el, data } = reelObj;
                let contentHTML = '';
                const repeatCount = 20; 
                for(let i=0; i<repeatCount; i++) {
                    data.forEach(item => {
                        if(item.type === 'img') {
                            contentHTML += `<div class="slot-item"><img src="${item.value}" alt="${item.label}"></div>`;
                        } else {
                            contentHTML += `<div class="slot-item">${item.value}</div>`;
                        }
                    });
                }
                el.innerHTML = contentHTML;
            });
        }

        const spinBtn = document.getElementById('spin-btn');
        const printBtn = document.getElementById('print-btn');
        const leverStick = document.getElementById('lever-stick');
        const leverKnob = document.getElementById('lever-knob');
        const outputDisplay = document.getElementById('output-display');
        let isSpinning = false;

        // --- Drag Logic ---
        let isDragging = false;
        let startY = 0;
        const START_ANGLE = 0; 
        const MAX_PULL_ANGLE = -50; 
        const MAX_DRAG_PIXELS = 250; 
        
        leverStick.addEventListener('mousedown', (e) => {
            if(isSpinning) return;
            isDragging = true;
            startY = e.clientY;
            leverStick.classList.remove('handle-transition'); 
            leverStick.classList.remove('pole-pulled-animation'); 
            leverKnob.classList.remove('knob-transition');
            leverKnob.classList.remove('knob-pulled-animation');
        });

        window.addEventListener('mousemove', (e) => {
            if(!isDragging) return;
            e.preventDefault(); 
            const deltaY = e.clientY - startY;
            const dragAmount = Math.max(0, Math.min(deltaY, MAX_DRAG_PIXELS));
            const progress = dragAmount / MAX_DRAG_PIXELS; 
            const currentAngle = START_ANGLE - (progress * (START_ANGLE - MAX_PULL_ANGLE));
            leverStick.style.transform = `rotateX(${currentAngle}deg)`;
            leverKnob.style.transform = `rotateX(${-currentAngle}deg) translateZ(20px)`;
        });

        window.addEventListener('mouseup', (e) => {
            if(!isDragging) return;
            isDragging = false;
            leverStick.classList.add('handle-transition');
            leverKnob.classList.add('knob-transition');
            const deltaY = e.clientY - startY;
            leverStick.style.transform = `rotateX(${START_ANGLE}deg)`;
            leverKnob.style.transform = `rotateX(${-START_ANGLE}deg) translateZ(20px)`;
            if(deltaY > 100) {
                startSpin();
            }
        });

        // --- Spin Logic ---
        function startSpin() {
            if(isSpinning) return;
            isSpinning = true;
            spinBtn.disabled = true;
            spinBtn.innerText = "PROCESSING...";
            outputDisplay.innerHTML = "<div>Reading inputs...</div>";
            printBtn.style.display = 'none';

            if (!isDragging) { 
                leverStick.classList.add('pole-pulled-animation');
                leverKnob.classList.add('knob-pulled-animation');
                setTimeout(() => { 
                    leverStick.classList.remove('pole-pulled-animation'); 
                    leverKnob.classList.remove('knob-pulled-animation'); 
                }, 600);
            }

            const results = [];
            REELS.forEach((reelObj, index) => {
                const { el, data } = reelObj;
                const totalItems = data.length;
                const randomIndex = Math.floor(Math.random() * totalItems);
                results.push(data[randomIndex]);
                const targetSet = 15 + index * 2; 
                const finalIndex = (targetSet * totalItems) + randomIndex;
                const translateY = -(finalIndex * SLOT_HEIGHT);
                const duration = 2 + (index * 0.5); 
                el.style.transition = 'none';
                el.style.transform = 'translateY(0)';
                el.offsetHeight; 
                el.classList.add('blur-motion');
                el.style.transition = `transform ${duration}s cubic-bezier(0.15, 0.9, 0.3, 1)`;
                el.style.transform = `translateY(${translateY}px)`;
                setTimeout(() => {
                    el.classList.remove('blur-motion');
                    if (index === REELS.length - 1) finishSpin(results);
                }, duration * 1000);
            });
        }

function finishSpin(results) {
            isSpinning = false;
            spinBtn.disabled = false;
            spinBtn.innerText = "GENERATE";
            const text = `
                <div>AI DETECTS <span class="highlight">${results[0].label}</span> VIA <span class="highlight">${results[1].label}</span>,</div>
                <div>INITIATING <span class="highlight">${results[2].label}</span>.</div>
            `;
            outputDisplay.innerHTML = text;

            // --- æ‰“å°å¡ç‰‡å¡«å……æ•°æ® ---
            document.getElementById('p-name').innerText = results[0].label;
            document.getElementById('p-img-main').src = results[0].value;
            document.getElementById('p-img-sense').src = results[1].value;
            document.getElementById('p-task').innerText = results[2].label;
            
            // ==========================================
            // ğŸ†• æ–° ID ç”Ÿæˆé€»è¾‘ï¼šåŸºäºå†…å®¹çš„å”¯ä¸€ ID
            // ==========================================
            // 1. æ‰¾åˆ°å½“å‰ç»“æœåœ¨åŸå§‹åˆ—è¡¨ä¸­çš„åºå· (Index)
            // findIndex ä¼šè¿”å› 0, 1, 2... ç­‰æ•°å­—
            const idx1 = DATASETS.embodied.findIndex(item => item.label === results[0].label);
            const idx2 = DATASETS.sensory.findIndex(item => item.label === results[1].label);
            const idx3 = DATASETS.intentionality.findIndex(item => item.label === results[2].label);

            // 2. å°†åºå·æ ¼å¼åŒ–ä¸ºä¸¤ä½æ•° (ä¾‹å¦‚ 5 -> "06", 12 -> "13")
            // è¿™é‡Œ +1 æ˜¯ä¸ºäº†è®© ID ä» 01 å¼€å§‹è€Œä¸æ˜¯ 00ï¼Œçœ‹èµ·æ¥æ›´åƒäººç±»çš„ç¼–å·ä¹ æƒ¯
            const num1 = String(idx1 + 1).padStart(2, '0');
            const num2 = String(idx2 + 1).padStart(2, '0');
            const num3 = String(idx3 + 1).padStart(2, '0');

            // 3. ç»„åˆæˆ 6 ä½ ID
            const uniqueID = `${num1}${num2}${num3}`;
            
            document.getElementById('p-id').innerText = `ID: ${uniqueID}`;

            // ç”Ÿæˆæ—¶é—´æˆ³
            const now = new Date();
            const dateStr = `- ${now.getFullYear()}.${String(now.getMonth()+1).padStart(2,'0')}.${String(now.getDate()).padStart(2,'0')} // ${String(now.getHours()).padStart(2,'0')}:${String(now.getMinutes()).padStart(2,'0')}:${String(now.getSeconds()).padStart(2,'0')} -`;
            document.getElementById('p-date').innerText = dateStr;

            printBtn.style.display = 'block';
        }

        spinBtn.addEventListener('click', startSpin);
        printBtn.addEventListener('click', () => { window.print(); });

        initReels();
    </script>
</body>
</html>
